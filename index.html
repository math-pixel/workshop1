<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<link rel="stylesheet" type="text/css" href="main.css">
</head>
<body class="yey">

	<a href="" class="link_other_page"><img src="" class="logo_switch"></a>

	
	
	<section class="presentation_page pages">

		<section class="header">
			<div class="oeil_container">
				<img src="" class="picto_move">
				<div id="eye"></div>
			</div>
			
			<p class="date"></p>
			<img src="" class="picto_move2">
		</section>

		<section class="container">
			<img src="" class="img_containt">
			<h1 class="titre">FESTIVAL</h1>
			<div class="first_layer"></div>
			<img src="" class="forme1">
			<img src="" class="forme2">
			<img src="" class="forme3">
		</section>

	</section>



	<section class="news_page pages">
		
		<div class="Slides fade">
			<img src="" class="img_slide1">
			
		</div>

		<div class="Slides fade">
			<img src="" class="img_slide1">
		</div>

		<div class="Slides fade">
			<img src="" class="img_slide1">
		</div>

		<a class="prev" onclick="plusSlides(-1)">❮</a>
		<a class="next" onclick="plusSlides(1)">❯</a>

	</section>


	
	<section class="transition_page pages"> <!-- stichy -->
		
		<div class="cliping">
			<img src="" class="scroll_img">
		</div>
		

		<div class="area">

				<img src="./imagePaul/frame1.png" class="move_image" id="move_image">
			

				<div class="titre_jeremy_div">

					<h1 class="titre_jeremy"></h1>
					<h2 class="sous_titre"></h2>

					<div class="progresse_bar">

						<div class="progression"></div>

					</div>

				</div>

		</div>
		
		<img src="" class="forground_transition">
	</section>

	<div class="invisible_transition pages" id="invisible_transition" ></div>
	
	<div class="header_full">
		<img src="./imageJeremy/logo_robot.png" class="robot">			
		<img src="./imageJeremy/logo_we.png" class="logo_we">			
		<img src="./imageJeremy/logo_robot.png" class="robot none">			
	</div>

	<section class="program_page" id="program_page" style="color: white;">


		
		
		<div class="main_container_program">
			
			<div class="concert pages">
				
				<div class="header_concert">
					<h3 class="name_header">CONCERTS</h3>
				</div>
				<div class="container_programme">

					<img src="" class="forme1 rigth">
					<img src="" class="forme2 top">
					<img src="" class="forme3 left">

					<div class="content_prog">
						<h3 class="titre_programme pilo">WILL GUTHRIE & L'ENSEMBLE NIST-NAH</h3>
						<h4 class="info_complementaire">20H & 1H - Vendredi 17 Mars</h4>
					</div>

					

					<div class="content_prog dumpling">
						<h3 class="titre_programme">TOLE FROIDE + GARNAVAL + LITIGE + CHICHON PISSA</h3>
						<h4 class="info_complementaire">1H - Samedi 18 Mars</h4>
					</div>

					<div class="content_prog pilo">
						<h3 class="titre_programme">ANTHONY LAGUERRE & JEROME NOETINGER</h3>
						<h4 class="info_complementaire">20H - Dimanche 19 Mars</h4>
					</div>


				</div>
			</div>

			<div class="conference pages">
				<div class="header_concert">
					<h3 class="name_header">CONFERENCES</h3>
				</div>
				<div class="container_programme">

					<img src="" class="forme1 left">
					<img src="" class="forme2 top">
					<img src="" class="forme3 rigth">
					<div class="content_prog">
						<h3 class="titre_programme pilo">" dali, l'ame et le masque" </h3>
						<h3 class="auteur">par Damien Capelazzi, historien des arts</h3>
						<h4 class="info_complementaire">19H - Vendredi 17 Mars</h4>
					</div>

					<div class="content_prog">
						<h3 class="titre_programme type_fesse">"Fermez vos yeux, vous verrez" </h3>
						<h3 class="auteur">par Jean-Louis Millet, essayiste</h3>
						<h4 class="info_complementaire">19H - Samedi 18 Mars</h4>
					</div>

					<div class="content_prog dumpling">
						<h3 class="titre_programme">"Making-of" </h3>
						<h3 class="auteur">par Les Garrieres de Lumiere</h3>
						<h4 class="info_complementaire">19H - Dimanche 19 Mars</h4>
					</div>


				</div>
			</div>

			<div class="perf pages">
				<div class="header_concert">
					<h3 class="name_header">PERFORMANCES</h3>
				</div>
				<div class="container_programme">

					<img src="" class="forme5 rigth">
					<img src="" class="forme4 left">

					<div class="content_prog">
						<h3 class="titre_programme type_fesse">Stefan Clondeau </h3>
						<h3 class="auteur">ingenieur</h3>
						<h4 class="info_complementaire">20H - Samedi 18 Mars</h4>
					</div>

					<div class="content_prog">
						<h3 class="titre_programme pilo">Natasha Zupan </h3>
						<h3 class="auteur">artiste</h3>
						<h4 class="info_complementaire">18H - Vendredi 17 Mars</h4>
					</div>

				</div>
			</div>

			<div class="expo pages">

				<div class="header_concert">
					<h3 class="name_header">EXPOSITIONS</h3>
				</div>

				<div class="container_programme column">

					<img src="" class="forme1 rigth">
					<img src="" class="forme3 left">

					<div class="content_prog">
						<h3 class="titre_programme pilo">POST MORTEM</h3>
						<h4 class="info_complementaire">14H - 18H / Samedi 18 Mars</h4>
					</div>

					<div class="content_prog">
						<h3 class="titre_programme type_fesse">BIS REPETITA</h3>
						<h4 class="info_complementaire">14H - 18H / Samedi 19 Mars</h4>
					</div>

				</div>
			</div>

			<div class="work pages">
				<div class="header_concert">
					<h3 class="name_header">WORKSHOPS</h3>
				</div>
				<div class="container_programme">

					<img src="" class="forme2 center">

					<div class="content_prog">
						<h3 class="titre_programme pilo">"La klaxon de Johansson" </h3>
						<h3 class="auteur">par 404.zero</h3>
						<h4 class="info_complementaire">22H - Vendredi 17 Mars</h4>
					</div>

					<div class="content_prog">
						<h3 class="titre_programme type_fesse">"Painting and eating are almost the same thing" </h3>
						<h3 class="auteur">par Full Story</h3>
						<h4 class="info_complementaire">22H - Samedi 18 Mars</h4>
					</div>



				</div>
			</div>

		</div>
	</section>




	<section class="reserve_page pages">

		<h3 class="reserve_titre">Réservez dés maintenant !</h3>

		<div class="reserve">

			<div class="row">
				<div class="pass">
					<img src="" class="pass_forme">
					<h4 class="titre_pass">PASS 1 JOUR</h4>
					<h5 class="nb_pass1">0</h5>
				</div>
				<div class="pass">
					<img src="" class="pass_forme">
					<h4 class="titre_pass">PASS 2 JOURS</h4>
					<h5 class="nb_pass2">0</h5>
				</div>
				<div class="pass">
					<img src="" class="pass_forme">
					<h4 class="titre_pass">PASS 3 JOURS</h4>
					<h5 class="nb_pass3">0</h5>
				</div>
			</div>



			<h3 class="btn_acheter">Ajouter au panier</h3>
		</div>	
		
		

		
		
	</section>




	<section class="dowloadAndContact_page pages">

		<div class="download_brochure">

			<div class="container_brochure">
					<label class="brochure"><a href="" class="brochure_file">Telecharger la brochure !</a></label>
			</div>
		</div>


		<div class="footer">
			
			<div class="bar">
				<img src="" class="logo_robot">
				<img src="./imageJeremy/logo_we.png" class="logo_we">
				<img src="" class="logo_robot">
			</div>

			<div class="contact">
				<div class="contact_contenu">
					<h4 class="phone">Contacts : 04 00 00 00 00 adresse@mail.com</h4>
				</div>

				<div class="contact_contenu">
					<h4 class="reseau">Nos reseaux : </h4>
					<div class="reseau_img">
						<img src="./insta.jpg" class="res insta">
						<img src="./fb.jpg" class="res remove">
						<img src="./twitter.jpg" class="res remove">
					</div>
				</div>
			</div>

		</div>

	</section>
	<img src="./imagePaul/texture.jpg" class="texture">
</body>

<script type="text/javascript">

	

	console.log("penser a ajouter ?site=paul ou ?site=jeremy");

	//-------------- trieur -----------------
	url = window.location.href;
	value = url.split('?')[1].split('=')[1];
	console.log(value);
	//---------------- end trieur ------------ 
	
	//------------------- css -------------------
	var head  = document.getElementsByTagName('head')[0];
    var link  = document.createElement('link');
    link.id   = "cssId";
    link.rel  = 'stylesheet';
    link.type = 'text/css';
    if (value === 'paul') {
    	link.href = './paul.css';
    }else{
    	link.href = './jeremy.css';
    }
    link.media = 'all';
    head.appendChild(link);
    //------------------- end css -----------------


    // --------------- eye ------------------
	document.addEventListener('mousemove', (event) => {
		var eye = document.getElementById("eye");
		var x = (eye.offsetLeft) + (eye.offsetWidth / 2);
		var y = (eye.offsetTop) + (eye.offsetHeight / 2);
		var rad = Math.atan2(event.pageX - x, event.pageY - y);
		var rot = (rad * (180 / Math.PI) * -1) + 180;
		eye.style.transform = "rotate("+ -rot*1.5 + "deg)";
	});
	//----------- end eye ------------ 

	//--------------------- transition -----------------

	var img_array = ["frame1.png","frame2.png","frame3.png","frame4.png","frame5.png","frame6.png","frame7.png","frame8.png","frame9.png","frame10.png"];

	document.addEventListener('scroll', (e) => {
		//console.log(window.scrollY);
		//console.log(document.getElementById("program_page").getBoundingClientRect());
		
		var max = document.getElementById("invisible_transition").getBoundingClientRect().height/2; //element.scrolltop
		var min = 0;
		var max_up = document.getElementById("invisible_transition").getBoundingClientRect().height;

		var pos_actu = -document.getElementById("invisible_transition").getBoundingClientRect().y;
		//console.log(pos_actu);
		var dist = max-min;
		var index = (pos_actu / dist) * img_array.length  ;
		document.getElementById("move_image").style.transform = 'scale(1)';
		if (pos_actu > min && pos_actu < max ) {
			index = mapp(pos_actu, min,max,0,img_array.length-1);
			//console.log(index);
			document.getElementById("move_image").src = dir + img_array[Math.round(index)];

			//set return stexture opacity
			document.getElementsByClassName("texture")[0].style.opacity = 1;
			
		}
		if (pos_actu > max) {
			document.getElementById("move_image").src = dir + img_array[img_array.length -1];
			if (pos_actu < max_up) {


				if (value === 'paul') {
					index = mapp(pos_actu, max,max_up,1,50);
					indexopa = mapp(pos_actu, max,max_up,-2,1);
					indexopatexture = mapp(pos_actu, max,max_up,0.2,1);
				}else{
					index = mapp(pos_actu, max,max_up,1,25);
					indexopa = mapp(pos_actu, max,max_up,-1,1);
				}
				
				//console.log("index"+index);
				//scale and visibility of image transition 
				document.getElementById("move_image").style.transform = 'scale('+1 * index+')';
				document.getElementById("move_image").style.display = 'block';
				if (value !== 'paul') {
					document.getElementById("move_image").style.transform += 'translateY(-'+ 1 * index +'px)';
				}
				
				//opacity next page
				document.getElementById("program_page").style.opacity = indexopa;
				document.getElementsByClassName("header_full")[0].style.opacity = indexopa;
				document.getElementsByClassName("dowloadAndContact_page")[0].style.opacity = indexopa;
				document.getElementsByClassName("reserve_page")[0].style.opacity = indexopa;


				//opacity invert texture
				//document.getElementsByClassName("texture")[0].style.opacity = 1-indexopatexture;
				console.log(1-indexopatexture);

 				document.getElementsByClassName("texture")[0].style.zIndex = 0;
 				document.getElementsByClassName("texture")[0].style.setProperty('--blend-mode', chosenMode);
			}
			if (pos_actu > max_up) {
				document.getElementsByClassName("texture")[0].style.opacity = 1;
				document.getElementById("move_image").style.transform = 'scale(50)';
				
			}
			if (pos_actu > max_up + 50) {

				//update texture
				
				



				document.getElementById("move_image").style.display = 'none';

				if(value !== 'paul'){
					document.getElementsByClassName("invisible_transition")[0].style.display = "none";
					document.getElementsByClassName("transition_page")[0].style.display = "none";
				}
			}
			
		}  
	});
	function mapp(x,in_min,in_max,out_min,out_max) {
  		return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;
	}

    //------------------- slide -------------------
    let slideIndex = 1;
	showSlides(slideIndex);

	function plusSlides(n) {
	  showSlides(slideIndex += n);
	}

	function currentSlide(n) {
	  showSlides(slideIndex = n);
	}

	function showSlides(n) {
	  let i;
	  let slides = document.getElementsByClassName("Slides");
	  if (n > slides.length) {slideIndex = 1}    
	  if (n < 1) {slideIndex = slides.length}
	  for (i = 0; i < slides.length; i++) {
	  	//slides[i].style.transform = "translateX(-100%)"
	    slides[i].style.display = "none";  
	  }
	  slides[slideIndex-1].style.display = "block"; 
	}
	//----------------- end slide ------------------







	//----------------- affectation du contenu -------------------
	if (value === 'paul') {
		var dir = "./imagePaul/";

		document.getElementsByClassName("logo_switch")[0].src = "./imageJeremy/" + "logo_robot.png";
		document.getElementsByClassName("insta")[0].src = dir + "insta.png";
		document.getElementsByClassName("phone")[0].innerHTML = "Contacts : 04 00 00 00 00 00";


		document.getElementsByClassName("logo_switch")[0].style.height = "60px";

		document.getElementsByClassName("link_other_page")[0].href = "./index.html?site=jeremy";
	}else{
		var dir = "./imageJeremy/";
		document.getElementsByClassName("logo_switch")[0].src = "./imagePaul/" + "oeil.png";

		document.getElementsByClassName("link_other_page")[0].href = "./index.html?site=paul";
	}




	/*------------------ accueil page ------------- */
	document.getElementsByClassName("picto_move")[0].src = dir + "oeil.svg";
	document.getElementsByClassName("date")[0].innerHTML = "Du 17 au 19 mars 2023";
	document.getElementsByClassName("img_containt")[0].src = dir + "text we are.png";

	//formes
	for (var i = document.getElementsByClassName("forme1").length - 1; i >= 0; i--) {
		document.getElementsByClassName("forme1")[i].src = dir + "forme1.png";
	}
	for (var i = document.getElementsByClassName("forme2").length - 1; i >= 0; i--) {
		document.getElementsByClassName("forme2")[i].src = dir + "forme2.png";
	}
	for (var i = document.getElementsByClassName("forme3").length - 1; i >= 0; i--) {
		document.getElementsByClassName("forme3")[i].src = dir + "forme3.png";
	}
	for (var i = document.getElementsByClassName("forme4").length - 1; i >= 0; i--) {
		document.getElementsByClassName("forme4")[i].src = dir + "forme4.png";
	}
	for (var i = document.getElementsByClassName("forme5").length - 1; i >= 0; i--) {
		document.getElementsByClassName("forme5")[i].src = dir + "forme5.png";
	}
	
	
	

	//slides
	document.getElementsByClassName("img_slide1")[0].src = dir + "ivanrod.jpg";
	document.getElementsByClassName("img_slide1")[1].src = dir + "edition.jpg";
	document.getElementsByClassName("img_slide1")[2].src = dir + "yey.jpg";


	//transition
	document.getElementsByClassName("move_image")[0].src = dir + "frame1.png";
	
	


	//download brochhure 
	document.getElementsByClassName("brochure_file")[0].href = dir + "brochure.pdf";

	//scroll
	document.getElementsByClassName("scroll_img")[0].src = dir + "scroll.png";

	//option jeremy
	if (value !== 'paul') {
		
		/*############ INTRO animation ################*/

		document.getElementsByClassName("titre_jeremy_div")[0].classList.add("square_out");
		document.getElementsByClassName("move_image")[0].classList.add("square_open");

		/* progress bar */
		  var element = document.getElementsByClassName("progression")[0];   
		  var width = 1;
		  var identity = setInterval(scene, 10);
		  function scene() {
		    if (width >= 100) {
		      clearInterval(identity);
		    } else {
		      width += 0.45; 
		      element.style.width = width + '%'; 
		    }
		  }
		/*############ end intro ################*/

		document.getElementsByClassName("titre_jeremy")[0].innerHTML = "WE ARE SURREAL";
		document.getElementsByClassName("sous_titre")[0].innerHTML = "FESTIVAL";


		//ending
		for (var i = document.getElementsByClassName("logo_robot").length - 1; i >= 0; i--) {
			document.getElementsByClassName("logo_robot")[i].src = "./imageJeremy/logo_robot.png";
		}
	}else{
		document.getElementsByClassName("pass_forme")[0].src  = dir + "forme1.png";
		document.getElementsByClassName("pass_forme")[1].src  = dir + "forme2.png";
		document.getElementsByClassName("pass_forme")[2].src  = dir + "forme3.png";



		//animation blueray

		var xPosition = 10;
		var yPosition = 10;
		var xSpeed = 10;
		var ySpeed = 10;

		var logo = document.getElementsByClassName("cliping")[0];
		var parents = document.getElementsByClassName("transition_page")[0];
		
		function update(){
			logo.style.left  = xPosition + "px";
			logo.style.top  = yPosition + "px";
		}

		/*setInterval(() => {
			if (xPosition + logo.clientWidth >= parents.innerWidth || xPosition <= 0) {
				xSpeed = -xSpeed;
			}
			if (yPosition + logo.clientHeight >= parents.innerHeight || yPosition <= 0) {
				ySpeed = -ySpeed;
			}
			xPosition += xSpeed;
			ySpeed += ySpeed;
			update();}, 1000/30)*/
	}
	
	

	//---------------- end affectation contenu ------------------------ //


	 


</script>
</html>